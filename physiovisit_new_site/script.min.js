document.addEventListener('DOMContentLoaded',function(){initImageErrorHandling();initFormValidation();initSmoothScrolling();initLazyLoading();initFAQAccordion();initPriceCalculator();initAnimations();initMobileOptimizations()});function initImageErrorHandling(){const images=document.querySelectorAll('img');images.forEach(img=>{img.addEventListener('error',function(){if(this.src.includes('assets/img/')){const newSrc=this.src.replace('assets/img/','img/');this.src=newSrc}else if(this.src.includes('img/')){const newSrc=this.src.replace('img/','assets/img/');this.src=newSrc}else{this.style.display='none';const fallback=document.createElement('div');fallback.className='img-fallback';fallback.style.width=this.width||'200px';fallback.style.height=this.height||'200px';this.parentNode.insertBefore(fallback,this.nextSibling)}});if(img.complete&&img.naturalHeight!==0){}})}function initFormValidation(){const contactForm=document.getElementById('contactForm');if(contactForm){contactForm.addEventListener('submit',function(event){if(!validateForm(contactForm)){event.preventDefault();event.stopPropagation();contactForm.classList.add('was-validated');return false}const submitButton=contactForm.querySelector('button[type=\"submit\"]');const loadingSpinner=submitButton.querySelector('.loading-spinner');if(submitButton){submitButton.disabled=true;submitButton.innerHTML='<i class=\"bi bi-hourglass-split me-2\"></i>Verzenden...'}if(loadingSpinner){loadingSpinner.classList.remove('d-none')}return true});const inputs=contactForm.querySelectorAll('input, select, textarea');inputs.forEach(input=>{input.addEventListener('blur',function(){validateField(this)});input.addEventListener('input',function(){if(this.classList.contains('is-invalid')){validateField(this)}})})}}function validateField(field){const isValid=field.checkValidity();if(isValid){field.classList.remove('is-invalid');field.classList.add('is-valid')}else{field.classList.remove('is-valid');field.classList.add('is-invalid')}return isValid}function validateForm(form){let isValid=true;const requiredFields=form.querySelectorAll('[required]');requiredFields.forEach(field=>{if(!validateField(field)){isValid=false}});const emailField=form.querySelector('input[type=\"email\"]');if(emailField&&emailField.value){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!emailRegex.test(emailField.value)){emailField.classList.add('is-invalid');isValid=false}}const phoneField=form.querySelector('input[type=\"tel\"]');if(phoneField&&phoneField.value){const phoneRegex=/^(\+32|0)[1-9][0-9]{7,8}$/;if(!phoneRegex.test(phoneField.value.replace(/\s/g,''))){phoneField.setCustomValidity('Vul een geldig Belgisch telefoonnummer in');phoneField.classList.add('is-invalid');isValid=false}else{phoneField.setCustomValidity('');phoneField.classList.remove('is-invalid');phoneField.classList.add('is-valid')}}return isValid}function handleFormSubmission(form){}function initSmoothScrolling(){const links=document.querySelectorAll('a[href^=\"#\"]');links.forEach(link=>{link.addEventListener('click',function(e){const targetId=this.getAttribute('href').substring(1);const targetElement=document.getElementById(targetId);if(targetElement){e.preventDefault();targetElement.scrollIntoView({behavior:'smooth',block:'start'})}})})}function initLazyLoading(){if('IntersectionObserver'in window){const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src||img.src;img.classList.remove('img-lazy');observer.unobserve(img)}})});const lazyImages=document.querySelectorAll('.img-lazy');lazyImages.forEach(img=>imageObserver.observe(img))}}function initFAQAccordion(){const faqItems=document.querySelectorAll('.faq-item');faqItems.forEach(item=>{const question=item.querySelector('.faq-question');const answer=item.querySelector('.faq-answer');if(question&&answer){question.addEventListener('click',function(){const isActive=answer.classList.contains('active');faqItems.forEach(otherItem=>{const otherAnswer=otherItem.querySelector('.faq-answer');if(otherAnswer&&otherAnswer!==answer){otherAnswer.classList.remove('active')}});answer.classList.toggle('active',!isActive)})}})}function initPriceCalculator(){const apparaatSelect=document.getElementById('apparaatSelect');const aantalDagen=document.getElementById('aantalDagen');const totalePrijs=document.getElementById('totalePrijs');if(apparaatSelect&&aantalDagen&&totalePrijs){function updatePrice(){const prijsPerDag=parseFloat(apparaatSelect.value)||0;const dagen=parseInt(aantalDagen.value)||0;const totaal=prijsPerDag*dagen;totalePrijs.textContent='â‚¬'+totaal.toFixed(0);if(totaal>0){totalePrijs.classList.add('text-primary');totalePrijs.style.transform='scale(1.1)';setTimeout(()=>{totalePrijs.style.transform='scale(1)'},150)}}apparaatSelect.addEventListener('change',updatePrice);aantalDagen.addEventListener('input',updatePrice);updatePrice()}}function initAnimations(){if('IntersectionObserver'in window){const observerOptions={threshold:0.1,rootMargin:'0px 0px -50px 0px'};const animationObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('animate-in')}})},observerOptions);const animateElements=document.querySelectorAll('.service-card, .icon-box, .testimonial-card, .team-photo');animateElements.forEach(el=>{el.style.opacity='0';el.style.transform='translateY(20px)';el.style.transition='opacity 0.6s ease, transform 0.6s ease';animationObserver.observe(el)})}const style=document.createElement('style');style.textContent=`.animate-in{opacity:1!important;transform:translateY(0)!important}.service-card:hover{transform:translateY(-5px);transition:transform 0.3s ease}.team-photo:hover{transform:scale(1.02);transition:transform 0.3s ease}`;document.head.appendChild(style)}function initMobileOptimizations(){const navbarToggler=document.querySelector('.navbar-toggler');const navbarCollapse=document.querySelector('.navbar-collapse');if(navbarToggler&&navbarCollapse){const navLinks=navbarCollapse.querySelectorAll('.nav-link');navLinks.forEach(link=>{link.addEventListener('click',()=>{if(navbarCollapse.classList.contains('show')){navbarToggler.click()}})});document.addEventListener('click',(e)=>{if(navbarCollapse.classList.contains('show')&&!navbarCollapse.contains(e.target)&&!navbarToggler.contains(e.target)){navbarToggler.click()}})}if('ontouchstart'in window){document.body.classList.add('touch-device');const touchStyle=document.createElement('style');touchStyle.textContent=`.touch-device .btn{min-height:44px;padding:12px 24px}.touch-device .form-control{min-height:44px}.touch-device .service-card:hover{transform:none}`;document.head.appendChild(touchStyle)}const phoneInputs=document.querySelectorAll('input[type=\"tel\"]');phoneInputs.forEach(input=>{input.setAttribute('pattern','[0-9+\\-\\s]+');input.setAttribute('inputmode','tel')});const emailInputs=document.querySelectorAll('input[type=\"email\"]');emailInputs.forEach(input=>{input.setAttribute('inputmode','email')})}function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}function isInViewport(element){const rect=element.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth))}function formatPhoneNumber(phone){const cleaned=phone.replace(/\D/g,'');if(cleaned.startsWith('32')){return'+32 '+cleaned.substring(2,3)+' '+cleaned.substring(3,5)+' '+cleaned.substring(5,7)+' '+cleaned.substring(7)}else if(cleaned.startsWith('0')){return cleaned.substring(0,4)+' '+cleaned.substring(4,6)+' '+cleaned.substring(6,8)+' '+cleaned.substring(8)}return phone}window.addEventListener('unhandledrejection',function(event){});if('performance'in window){window.addEventListener('load',function(){setTimeout(()=>{const perfData=performance.getEntriesByType('navigation')[0];if(perfData){}},0)})}